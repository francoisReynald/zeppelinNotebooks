{"paragraphs":[{"text":"%md\n# About\n**Objective:** Become familiar with using Spark.ML to train a stacked ensemble of regressors\n**File locations:** spark-labs/music_data.csv\n**Successful outcome:** You will have trained and evaluated a stacked regression model\n**Before you begin:**\n**Related lessons:** Ensemble methods\n\n---","user":"admin","dateUpdated":"2019-04-10T07:50:46+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592161_-2061098031","id":"20171105-200834_1116095891","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:46+0000","dateFinished":"2019-04-10T07:50:46+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:120165"},{"text":"%md\n# Setup\n---","user":"admin","dateUpdated":"2019-04-10T07:50:47+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592163_1207453407","id":"20181114-164229_902436001","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:47+0000","dateFinished":"2019-04-10T07:50:47+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120166"},{"title":"Retrieve the music dataset","text":"%sh\n\nrm -f /home/zeppelin/music_data.csv\nwget -P /home/zeppelin https://s3-us-west-1.amazonaws.com/sci-241/music_data/music_data.csv\nhdfs dfs -rm spark-labs/music_data.csv\nhdfs dfs -put /home/zeppelin/music_data.csv spark-labs/","user":"admin","dateUpdated":"2019-04-10T07:50:47+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1554882589681_1571184157","id":"20190410-074949_1969227801","dateCreated":"2019-04-10T07:49:49+0000","dateStarted":"2019-04-10T07:50:47+0000","dateFinished":"2019-04-10T07:50:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120167"},{"title":"Import libraries","text":"%pyspark\n\nfrom pyspark.ml.feature import VectorAssembler\nfrom pyspark.ml.regression import LinearRegression\nfrom pyspark.ml.pipeline import Pipeline\nfrom pyspark.ml.evaluation import RegressionEvaluator","user":"admin","dateUpdated":"2019-04-10T07:50:53+0000","config":{"tableHide":false,"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592163_-1139984401","id":"20181114-164621_138379904","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:53+0000","dateFinished":"2019-04-10T07:50:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120168"},{"text":"%md\n# Lab\n---","user":"admin","dateUpdated":"2019-04-10T07:50:53+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592163_-180689719","id":"20181114-164844_1661453681","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:53+0000","dateFinished":"2019-04-10T07:50:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120169"},{"text":"%md\n## Load and inspect the data","user":"admin","dateUpdated":"2019-04-10T07:50:53+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592164_-1362994808","id":"20181120-105601_996869670","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:53+0000","dateFinished":"2019-04-10T07:50:53+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120170"},{"text":"%md\nFirst we need to load the data into a dataframe using the 'header' and 'inferSchema' options.","user":"admin","dateUpdated":"2019-04-10T07:50:53+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592164_1952264755","id":"20181120-104302_1071736728","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:54+0000","dateFinished":"2019-04-10T07:50:54+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120171"},{"title":"1 - Load the data into a Spark DataFrame","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:54+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592164_166024680","id":"20171105-200623_656362182","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120172"},{"text":"%md\nWhen doing machine learning, it is important to look at the data you are working with\nUse z.show(data) to view the first 20 rows of your data","user":"admin","dateUpdated":"2019-04-10T07:50:54+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592164_-1411191720","id":"20171105-201923_413365117","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:54+0000","dateFinished":"2019-04-10T07:50:54+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120173"},{"title":"2 - Inspect the data","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:54+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/scala","editorHide":false,"fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592165_-1108368724","id":"20171105-201709_849284875","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120174"},{"text":"%md\n## Transform the DataFrame into one usable by Spark ML\n\nAll our data in this lab is numerical, so we just need to turn it in to feature vectors","user":"admin","dateUpdated":"2019-04-10T07:50:54+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592165_-1474186425","id":"20171105-201449_1118165660","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:54+0000","dateFinished":"2019-04-10T07:50:54+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120175"},{"title":"3 - Rename the first column, which represents the year, to label","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:54+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592165_-1647688281","id":"20181120-105833_534068450","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120176"},{"text":"%md\nWe are going to split the data into a training set and a test set using a seed of 85427.","user":"admin","dateUpdated":"2019-04-10T07:50:54+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592166_-1181300480","id":"20181129-131700_4405302","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:54+0000","dateFinished":"2019-04-10T07:50:54+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120177"},{"title":"4 - Split the data into a training set and a test set","text":"%pyspark\n\ntrain, test = labeled.randomSplit([0.8,0.2],seed=85427)\n","user":"admin","dateUpdated":"2019-04-10T07:50:54+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592166_-418546079","id":"20181129-131610_1384826348","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:54+0000","dateFinished":"2019-04-10T07:50:54+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120178"},{"text":"%md\n\nBuild a list of the other features to use in the VectorAssembler\n\n~~~\nfeatures_list = [\"_c%d\" % x for x in range(1,91)]\n~~~","user":"admin","dateUpdated":"2019-04-10T07:50:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592166_-1773557406","id":"20181121-095645_987622514","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:55+0000","dateFinished":"2019-04-10T07:50:55+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120179"},{"title":"5 - Build a list of the other features to use in the VectorAssembler","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:55+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"id":"string","date":"string","price":"string","bedrooms":"string","bathrooms":"string","sqft_living":"string","sqft_lot":"string","floors":"string","waterfront":"string","view":"string","condition":"string","grade":"string","sqft_above":"string","sqft_basement":"string","yr_built":"string","yr_renovated":"string","zipcode":"string","lat":"string","long":"string","sqft_living15":"string","sqft_lot15":"string","features":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592167_1431991205","id":"20181120-112316_2086924427","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120180"},{"title":"6 - Create the VectorAssembler object","user":"admin","dateUpdated":"2019-04-10T07:50:55+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592167_2069647567","id":"20181129-123432_302585694","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120181"},{"text":"%md\n## Build and train the meta-features using a Pipeline","user":"admin","dateUpdated":"2019-04-10T07:50:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592168_1724366130","id":"20181129-141517_806825577","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:55+0000","dateFinished":"2019-04-10T07:50:55+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120182"},{"text":"%md\nInitialize the two LinearRegression objects\n~~~\nr1 = LinearRegression(maxIter=100,elasticNetParam=1.0,regParam=1.0,predictionCol='prediction1')\nr2 = LinearRegression(maxIter=100,elasticNetParam=0.0,regParam=10.0,predictionCol='prediction2')\n~~~\nIt is important each regressor makes its predictions in a different column. Spark will throw an error otherwise","user":"admin","dateUpdated":"2019-04-10T07:50:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592168_1343215769","id":"20181129-140905_1766431282","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:55+0000","dateFinished":"2019-04-10T07:50:55+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120183"},{"title":"7 - Initialize the tow  LinearRegression objects","user":"admin","dateUpdated":"2019-04-10T07:50:55+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592169_2041136199","id":"20181129-123946_1569552303","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120184"},{"text":"%md\nBuild a pipeline object that first builds a feature vector and then uses cross validation\n~~~\nstage_one = Pipeline(stages=[assembler,r1,r2])\n~~~~","user":"admin","dateUpdated":"2019-04-10T07:50:56+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592169_1681475765","id":"20181129-142007_976320424","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:56+0000","dateFinished":"2019-04-10T07:50:56+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120185"},{"title":"8 - Build a pipeline object","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:56+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592169_556882657","id":"20181129-142108_1806978653","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120186"},{"text":"%md\n\nIn order to avoid overfitting, the meta-features must be trained over folds of the training data\n~~~\nsplits = labeled.randomSplit([.1,.1,.1,.1,.1,.1,.1,.1,.1,.1])\nvalidation_predictions = []\nfor i in range(10):\n    print(\"Training fold %d\" % i)\n    validate = splits[i]\n    train_splits = list(set(range(10))- set([i]))\n    train_fold = splits[train_splits[0]]\n    for t_split in train_splits[1:]:\n        train_fold = train_fold.union(splits[t_split])\n    temp_model = stage_one.fit(train_fold)\n    validation_predictions.append(temp_model.transform(validate))\n~~~~","user":"admin","dateUpdated":"2019-04-10T07:50:56+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592170_1333741695","id":"20181129-142413_309506895","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:56+0000","dateFinished":"2019-04-10T07:50:56+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120187"},{"title":"9 - Train the meta-features over folds of the training data","user":"admin","dateUpdated":"2019-04-10T07:50:56+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592170_698781198","id":"20181129-124059_1376881901","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120188"},{"text":"%md\n\nAggregate the meta-features into a single DataFrame\n~~~\nmiddle = validation_predictions[0]\nfor i in range(1,10):\n    middle = middle.union(validation_predictions[i])\n~~~~","user":"admin","dateUpdated":"2019-04-10T07:50:56+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592170_-122897648","id":"20181129-143120_1037910400","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:56+0000","dateFinished":"2019-04-10T07:50:56+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120189"},{"title":"10 - Aggregate the meta-features into a single DataFrame","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:56+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592171_-1910307098","id":"20181129-143200_37631875","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120190"},{"text":"%md\nTrain a single model to produce the meta-features over all the training data for use during inference\n~~~\nfull_feature_generator = stage_one.fit(train)\n~~~","user":"admin","dateUpdated":"2019-04-10T07:50:57+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592171_-2062987900","id":"20181129-132512_399327605","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:57+0000","dateFinished":"2019-04-10T07:50:57+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120191"},{"title":"11 - Train a single model to produce the meta-features over all the training data for use during inference","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:57+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592172_-2136592155","id":"20181129-132540_792187246","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120192"},{"text":"%md\n## Train the second stage using the meta-features","user":"admin","dateUpdated":"2019-04-10T07:50:57+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592172_-513129081","id":"20181129-144157_1401390527","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:57+0000","dateFinished":"2019-04-10T07:50:57+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120193"},{"text":"%md\nConvert the meta-feature predictions into a feature vector\n~~~~\nstacker = VectorAssembler(inputCols=['prediction1','prediction2'],outputCol='stackedFeatures')\n~~~","user":"admin","dateUpdated":"2019-04-10T07:50:57+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592173_1190804092","id":"20181129-124247_871801294","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:58+0000","dateFinished":"2019-04-10T07:50:58+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120194"},{"title":"12 -  Convert the meta-feature predictions into a feature vector","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:58+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592173_-1796962483","id":"20181129-124320_729670936","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120195"},{"text":"%md\nCreate the meta-model regression\n~~~\nfinal_clf = LinearRegression(featuresCol='stackedFeatures',maxIter=100,elasticNetParam=0.0,regParam=10.0)\n~~~","user":"admin","dateUpdated":"2019-04-10T07:50:59+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592173_163923313","id":"20181129-124819_337664613","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:59+0000","dateFinished":"2019-04-10T07:50:59+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120196"},{"title":"13 - Create the meta-model regression","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:59+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592174_-2146543611","id":"20181129-124912_1442306031","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120197"},{"text":"%md\nMake the second pipeline\n~~~\nstage_two = Pipeline(stages=[stacker,final_clf])\n~~~","user":"admin","dateUpdated":"2019-04-10T07:50:59+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592174_-138537273","id":"20181129-144852_1691531920","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:59+0000","dateFinished":"2019-04-10T07:50:59+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120198"},{"title":"14 - Make the  second pipeline","user":"admin","dateUpdated":"2019-04-10T07:50:59+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592174_26725849","id":"20181129-125107_1783308215","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120199"},{"text":"%md\nTrain the stage two pipeline over the meta-features\n~~~~\nfinal_model = stage_two.fit(middle)\n~~~","user":"admin","dateUpdated":"2019-04-10T07:50:59+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592175_1184750061","id":"20181129-145207_1418006219","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:59+0000","dateFinished":"2019-04-10T07:50:59+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120200"},{"title":"15 - Train the stage two pipeline over the meta-features","text":"","user":"admin","dateUpdated":"2019-04-10T07:50:59+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592175_1604173954","id":"20181129-145230_1632856376","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120201"},{"text":"%md\n## Evaluate the model on the test data set","user":"admin","dateUpdated":"2019-04-10T07:50:59+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592175_-1665945576","id":"20181129-125319_1964040325","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:50:59+0000","dateFinished":"2019-04-10T07:50:59+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120202"},{"text":"%md\nMake predictions on the test data\n~~~\npredictions = final_model.transform(full_feature_generator.transform(test))\n~~~","user":"admin","dateUpdated":"2019-04-10T07:50:59+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592175_1826290003","id":"20181129-145452_31063469","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:00+0000","dateFinished":"2019-04-10T07:51:00+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120203"},{"title":"16 - Make predictions on the test data","text":"","user":"admin","dateUpdated":"2019-04-10T07:51:00+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592175_1689200952","id":"20181129-145458_2032696843","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120204"},{"text":"%md\nEvaluate each meta-feature as well as the final model\n\n~~~\nfor clf in ['prediction1', 'prediction2','prediction']:\n    ev = RegressionEvaluator(metricName='r2',predictionCol=clf)\n    a= ev.evaluate(predictions)\n    ev = RegressionEvaluator(predictionCol=clf)\n    b = ev.evaluate(predictions)\n    print(clf,a,b)\n~~~","user":"admin","dateUpdated":"2019-04-10T07:51:00+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592176_42098338","id":"20181129-145725_1465376882","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:00+0000","dateFinished":"2019-04-10T07:51:00+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120205"},{"title":"17 - Evaluate each meta-feature as well as the final model","text":"","user":"admin","dateUpdated":"2019-04-10T07:51:00+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592176_1555077233","id":"20181129-125358_429231337","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120206"},{"title":"Bonus","text":"%md\nIf time remains, try adding more meta-features\n* Create more regressor objects and add them to the stage_one pipeline\n    * Don’t forget to also add them to the VectorAssembler named stacker \n * Rerun the training and prediction code","user":"admin","dateUpdated":"2019-04-10T07:51:00+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592177_-344705120","id":"20181120-152344_1404227962","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:00+0000","dateFinished":"2019-04-10T07:51:00+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120207"},{"text":"%md\n# Result\n**You have now:** You have now trained and evaluated a stacked ensemble method.\n\n---","user":"admin","dateUpdated":"2019-04-10T07:51:01+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592177_504276159","id":"20181119-142716_792318228","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:01+0000","dateFinished":"2019-04-10T07:51:01+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120208"},{"text":"%md\n# Solution\n---","user":"admin","dateUpdated":"2019-04-10T07:51:01+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592178_4869813","id":"20171113-155535_1769142099","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:01+0000","dateFinished":"2019-04-10T07:51:01+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120209"},{"title":"1 - Load the data into a Spark DataFrame","text":"%pyspark\n\ndata = spark.read.format('csv').option('header',False).option('inferSchema',True).load('spark-labs/music_data.csv')","user":"admin","dateUpdated":"2019-04-10T07:51:01+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=847","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=848"],"interpreterSettingId":"spark2"}},"apps":[],"jobName":"paragraph_1548408592178_-1775752624","id":"20181120-104552_1855149124","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:01+0000","dateFinished":"2019-04-10T07:51:01+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120210"},{"title":"2 - Inspect the data","text":"%pyspark\n\nz.show(data)","user":"admin","dateUpdated":"2019-04-10T07:51:01+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"_c0":"string","_c1":"string","_c2":"string","_c3":"string","_c4":"string","_c5":"string","_c6":"string","_c7":"string","_c8":"string","_c9":"string","_c10":"string","_c11":"string","_c12":"string","_c13":"string","_c14":"string","_c15":"string","_c16":"string","_c17":"string","_c18":"string","_c19":"string","_c20":"string","_c21":"string","_c22":"string","_c23":"string","_c24":"string","_c25":"string","_c26":"string","_c27":"string","_c28":"string","_c29":"string","_c30":"string","_c31":"string","_c32":"string","_c33":"string","_c34":"string","_c35":"string","_c36":"string","_c37":"string","_c38":"string","_c39":"string","_c40":"string","_c41":"string","_c42":"string","_c43":"string","_c44":"string","_c45":"string","_c46":"string","_c47":"string","_c48":"string","_c49":"string","_c50":"string","_c51":"string","_c52":"string","_c53":"string","_c54":"string","_c55":"string","_c56":"string","_c57":"string","_c58":"string","_c59":"string","_c60":"string","_c61":"string","_c62":"string","_c63":"string","_c64":"string","_c65":"string","_c66":"string","_c67":"string","_c68":"string","_c69":"string","_c70":"string","_c71":"string","_c72":"string","_c73":"string","_c74":"string","_c75":"string","_c76":"string","_c77":"string","_c78":"string","_c79":"string","_c80":"string","_c81":"string","_c82":"string","_c83":"string","_c84":"string","_c85":"string","_c86":"string","_c87":"string","_c88":"string","_c89":"string","_c90":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=849"],"interpreterSettingId":"spark2"}},"apps":[],"jobName":"paragraph_1548408592179_-1345506970","id":"20181120-104909_658872","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:01+0000","dateFinished":"2019-04-10T07:51:02+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120211"},{"title":"3 - Rename the first column, which represents the year, to label","text":"%pyspark\n\nlabeled = data.withColumnRenamed('_c0','label')","user":"admin","dateUpdated":"2019-04-10T07:51:02+0000","config":{"tableHide":true,"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592187_146993859","id":"20181129-112050_2131521384","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:02+0000","dateFinished":"2019-04-10T07:51:02+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120212"},{"title":"4 - Split the data into a training set and a test set","text":"%pyspark\n\ntrain, test = labeled.randomSplit([0.8,0.2],seed=85427)\n","user":"admin","dateUpdated":"2019-04-10T07:51:02+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592187_-1969066084","id":"20181129-131516_769696733","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:02+0000","dateFinished":"2019-04-10T07:51:02+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120213"},{"title":"5 - Build a list of the other features to use in the VectorAssembler","text":"%pyspark\n\nfeatures_list = [\"_c%d\" % x for x in range(1,91)]","user":"admin","dateUpdated":"2019-04-10T07:51:02+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"id":"string","date":"string","price":"string","bedrooms":"string","bathrooms":"string","sqft_living":"string","sqft_lot":"string","floors":"string","waterfront":"string","view":"string","condition":"string","grade":"string","sqft_above":"string","sqft_basement":"string","yr_built":"string","yr_renovated":"string","zipcode":"string","lat":"string","long":"string","sqft_living15":"string","sqft_lot15":"string","features":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592188_-1333132651","id":"20181129-112406_281377804","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:02+0000","dateFinished":"2019-04-10T07:51:02+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120214"},{"title":"6 - Create the VectorAssembler object","text":"%pyspark\n\nassembler = VectorAssembler(inputCols=features_list,outputCol='features')","user":"admin","dateUpdated":"2019-04-10T07:51:02+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592188_-1411026904","id":"20181129-123729_195526355","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:03+0000","dateFinished":"2019-04-10T07:51:03+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120215"},{"title":"7 - Initialize the tow  LinearRegression objects","text":"%pyspark\n\nr1 = LinearRegression(maxIter=100,elasticNetParam=1.0,regParam=1.0,predictionCol='prediction1')\nr2 = LinearRegression(maxIter=100,elasticNetParam=0.0,regParam=10.0,predictionCol='prediction2')","user":"admin","dateUpdated":"2019-04-10T07:51:03+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592188_610519465","id":"20181129-141616_520636423","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:03+0000","dateFinished":"2019-04-10T07:51:03+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120216"},{"title":"8 - Build a pipeline object","text":"%pyspark\n\nstage_one = Pipeline(stages=[assembler,r1,r2])","user":"admin","dateUpdated":"2019-04-10T07:51:03+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592188_-1323804996","id":"20181129-142141_459473628","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:03+0000","dateFinished":"2019-04-10T07:51:03+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120217"},{"title":"9 - Train the meta-features over folds of the training data","text":"%pyspark\n\nsplits = labeled.randomSplit([.1,.1,.1,.1,.1,.1,.1,.1,.1,.1])\nvalidation_predictions = []\nfor i in range(10):\n    print(\"Training fold %d\" % i)\n    validate = splits[i]\n    train_splits = list(set(range(10))- set([i]))\n    train_fold = splits[train_splits[0]]\n    for t_split in train_splits[1:]:\n        train_fold = train_fold.union(splits[t_split])\n    temp_model = stage_one.fit(train_fold)\n    validation_predictions.append(temp_model.transform(validate))","user":"admin","dateUpdated":"2019-04-10T07:51:03+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=850","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=851","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=852","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=853","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=854","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=855","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=856","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=857","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=858","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=859","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=860","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=861","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=862","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=863","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=864","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=865","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=866","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=867","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=868","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=869","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=870","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=871","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=872","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=873","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=874","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=875","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=876","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=877","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=878","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=879","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=880","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=881","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=882","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=883","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=884","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=885","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=886","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=887","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=888","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=889","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=890","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=891","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=892","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=893","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=894","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=895","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=896","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=897","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=898","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=899","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=900","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=901","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=902","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=903","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=904","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=905","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=906","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=907","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=908","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=909","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=910","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=911","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=912","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=913","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=914","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=915","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=916","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=917","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=918","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=919","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=920","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=921","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=922","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=923","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=924","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=925","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=926","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=927","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=928","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=929","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=930","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=931","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=932","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=933","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=934","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=935","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=936","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=937","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=938","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=939","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=940","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=941","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=942","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=943","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=944","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=945","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=946","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=947","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=948","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=949"],"interpreterSettingId":"spark2"}},"apps":[],"jobName":"paragraph_1548408592189_-750276858","id":"20181129-142819_1542347010","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:51:03+0000","dateFinished":"2019-04-10T07:53:54+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120218"},{"title":"10 - Aggregate the meta-features into a single DataFrame","text":"%pyspark\n\nmiddle = validation_predictions[0]\nfor i in range(1,10):\n    middle = middle.union(validation_predictions[i])\n","user":"admin","dateUpdated":"2019-04-10T07:53:54+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592189_-146370159","id":"20181129-143220_2119424719","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:53:54+0000","dateFinished":"2019-04-10T07:53:55+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120219"},{"title":"11 - Train a single model to produce the meta-features over all the training data for use during inference","text":"%pyspark\n\nfull_feature_generator = stage_one.fit(train)","user":"admin","dateUpdated":"2019-04-10T07:53:55+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=950","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=951","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=952","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=953","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=954","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=955","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=956","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=957","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=958","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=959"],"interpreterSettingId":"spark2"}},"apps":[],"jobName":"paragraph_1548408592189_1413949961","id":"20181129-143726_517123854","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:53:56+0000","dateFinished":"2019-04-10T07:54:00+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120220"},{"title":"12 -  Convert the meta-feature predictions into a feature vector","text":"%pyspark\n\nstacker = VectorAssembler(inputCols=['prediction1','prediction2'],outputCol='stackedFeatures')","user":"admin","dateUpdated":"2019-04-10T07:54:01+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592190_-1253513222","id":"20181129-144434_291416667","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:54:01+0000","dateFinished":"2019-04-10T07:54:01+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120221"},{"title":"13 - Create the meta-model regression","text":"%pyspark\n\nfinal_clf = LinearRegression(featuresCol='stackedFeatures',maxIter=100,elasticNetParam=0.0,regParam=10.0)","user":"admin","dateUpdated":"2019-04-10T07:54:01+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592190_2067379682","id":"20181129-144655_1559726710","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:54:01+0000","dateFinished":"2019-04-10T07:54:01+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120222"},{"title":"14 - Make the  second pipeline","text":"%pyspark\n\nstage_two = Pipeline(stages=[stacker,final_clf])","user":"admin","dateUpdated":"2019-04-10T07:54:01+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592190_-955042904","id":"20181129-144941_125626368","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:54:01+0000","dateFinished":"2019-04-10T07:54:01+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120223"},{"title":"15 - Train the stage two pipeline over the meta-features","text":"%pyspark\n\nfinal_model = stage_two.fit(middle)","user":"admin","dateUpdated":"2019-04-10T07:54:01+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=960","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=961","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=962","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=963","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=964"],"interpreterSettingId":"spark2"}},"apps":[],"jobName":"paragraph_1548408592190_1807281021","id":"20181129-145256_965315703","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:54:01+0000","dateFinished":"2019-04-10T07:54:17+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120224"},{"title":"16 - Make predictions on the test data","text":"%pyspark\n\npredictions = final_model.transform(full_feature_generator.transform(test))","user":"admin","dateUpdated":"2019-04-10T07:54:17+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592191_-1097764112","id":"20181129-145542_1091798500","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:54:17+0000","dateFinished":"2019-04-10T07:54:17+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120225"},{"title":"17 - Evaluate each meta-feature as well as the final model","text":"%pyspark\n\nfor clf in ['prediction1', 'prediction2','prediction']:\n    ev = RegressionEvaluator(metricName='r2',predictionCol=clf)\n    a= ev.evaluate(predictions)\n    ev = RegressionEvaluator(predictionCol=clf)\n    b = ev.evaluate(predictions)\n    print(clf,a,b)","user":"admin","dateUpdated":"2019-04-10T07:54:17+0000","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=965","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=966","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=967","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=968","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=969","http://ip-172-31-1-200.eu-central-1.compute.internal:4040/jobs/job?id=970"],"interpreterSettingId":"spark2"}},"apps":[],"jobName":"paragraph_1548408592191_970955893","id":"20181129-145829_1779499546","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:54:17+0000","dateFinished":"2019-04-10T07:54:20+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120226"},{"title":"Additional resources","text":"%md\nWe hope you've enjoyed this lab. Below are additional resources that you should find useful:\n\n1. [Hortonworks Apache Spark Tutorials](http://hortonworks.com/tutorials/#tuts-developers) are your natural next step where you can explore Spark in more depth.\n2. [Hortonworks Community Connection (HCC)](https://community.hortonworks.com/spaces/85/data-science.html?type=question) is a great resource for questions and answers on Spark, Data Analytics/Science, and many more Big Data topics.\n3. [Hortonworks Apache Spark Docs](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/spark-overview/content/analyzing_data_with_apache_spark.html) - official Spark documentation.\n4. [Hortonworks Apache Zeppelin Docs](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/zeppelin-overview/content/overview.html) - official Zeppelin documentation.","user":"admin","dateUpdated":"2019-04-10T07:54:20+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":10,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592191_-320355750","id":"20181116-135131_93712280","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:54:20+0000","dateFinished":"2019-04-10T07:54:20+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120227"},{"text":"%angular\n</br>\n<center>\n<a href=\"https://learn.hortonworks.com/\">\n  <img src=\"https://everpath-course-content.s3-accelerate.amazonaws.com/instructor%2Ftbroas_hortonworks_c_bsns5k%2Fpublic%2Flogo-training-1.1494860458677.png\" alt=\"Hortonworks University\" style=\"width:125px;height:125px;border:0;\" align=\"middle\">\n</a>\n</center>","user":"admin","dateUpdated":"2019-04-10T07:54:20+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":2,"editorMode":"ace/mode/undefined","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592191_-350346941","id":"20181115-083751_61749794","dateCreated":"2019-01-25T10:29:52+0000","dateStarted":"2019-04-10T07:54:20+0000","dateFinished":"2019-04-10T07:54:20+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120228"},{"text":"%angular\n","user":"admin","dateUpdated":"2019-04-10T07:54:20+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1548408592192_-1774613061","id":"20181120-161222_1016896442","dateCreated":"2019-01-25T10:29:52+0000","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:120229"}],"name":"Labs/EnsembleMethods","id":"2E3V3SBY9","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"python:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"spark2:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}